<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-01-30 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160130" />
    <meta http-equiv="Content-Language" content="en" />
    <title>XMemcached - CPD Results</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/bmahe/xmemcached">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="#" id="bannerLeft">
                <h2>XMemcached</h2>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-01-30
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 2.0.1-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-down"></span>
        Project Reports</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="apidocs/index.html" title="JavaDocs">
          <span class="none"></span>
        JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="testapidocs/index.html" title="Test JavaDocs">
          <span class="none"></span>
        Test JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="surefire-report.html" title="Surefire Report">
          <span class="none"></span>
        Surefire Report</a>
            </li>
                    
      <li>
  
                          <a href="xref/index.html" title="Source Xref">
          <span class="none"></span>
        Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="xref-test/index.html" title="Test Source Xref">
          <span class="none"></span>
        Test Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="dependency-analysis.html" title="Dependency Analysis">
          <span class="none"></span>
        Dependency Analysis</a>
            </li>
                    
      <li>
  
                          <a href="checkstyle.html" title="Checkstyle">
          <span class="none"></span>
        Checkstyle</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>CPD Report</a>
          </li>
                    
      <li>
  
                          <a href="pmd.html" title="PMD Report">
          <span class="none"></span>
        PMD Report</a>
            </li>
                    
      <li>
  
                          <a href="findbugs.html" title="FindBugs">
          <span class="none"></span>
        FindBugs</a>
            </li>
                    
      <li>
  
                          <a href="cobertura/index.html" title="Cobertura Test Coverage">
          <span class="none"></span>
        Cobertura Test Coverage</a>
            </li>
                    
      <li>
  
                          <a href="taglist.html" title="Tag List">
          <span class="none"></span>
        Tag List</a>
            </li>
                    
      <li>
  
                          <a href="dependency-updates-report.html" title="Dependency Updates Report">
          <span class="none"></span>
        Dependency Updates Report</a>
            </li>
                    
      <li>
  
                          <a href="plugin-updates-report.html" title="Plugin Updates Report">
          <span class="none"></span>
        Plugin Updates Report</a>
            </li>
                    
      <li>
  
                          <a href="property-updates-report.html" title="Property Updates Report">
          <span class="none"></span>
        Property Updates Report</a>
            </li>
              </ul>
        </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2>CPD Results<a name="CPD_Results"></a></h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.0.2.</p></div>
<div class="section">
<h2>Duplications<a name="Duplications"></a></h2>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/impl/KetamaMemcachedSessionLocator.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/impl/KetamaMemcachedSessionLocator.html#159">159</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/impl/LibmemcachedMemcachedSessionLocator.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/impl/LibmemcachedMemcachedSessionLocator.html#87">87</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>		long hash = this.hashAlg.hash(key);
		Session rv = this.getSessionByHash(hash);
		int tries = 0;
		while (!this.failureMode &amp;&amp; (rv == null || rv.isClosed())
				&amp;&amp; tries++ &lt; this.maxTries) {
			hash = this.nextHash(hash, key, tries);
			rv = this.getSessionByHash(hash);
		}
		return rv;
	}

	public final Session getSessionByHash(final long hash) {
		TreeMap&lt;Long, List&lt;Session&gt;&gt; sessionMap = this.ketamaSessions;
		if (sessionMap.size() == 0) {
			return null;
		}
		Long resultHash = hash;
		if (!sessionMap.containsKey(hash)) {
			// Java 1.6 adds a ceilingKey method, but xmemcached is compatible
			// with jdk5,So use tailMap method to do this.
			SortedMap&lt;Long, List&lt;Session&gt;&gt; tailMap = sessionMap.tailMap(hash);
			if (tailMap.isEmpty()) {
				resultHash = sessionMap.firstKey();
			} else {
				resultHash = tailMap.firstKey();
			}
		}
		//
		// if (!sessionMap.containsKey(resultHash)) {
		// resultHash = sessionMap.ceilingKey(resultHash);
		// if (resultHash == null &amp;&amp; sessionMap.size() &gt; 0) {
		// resultHash = sessionMap.firstKey();
		// }
		// }
		List&lt;Session&gt; sessionList = sessionMap.get(resultHash);
		if (sessionList == null || sessionList.size() == 0) {
			return null;
		}
		int size = sessionList.size();
		return sessionList.get(this.random.nextInt(size));
	}

	public final long nextHash(long hashVal, String key, int tries) {
		long tmpKey = this.hashAlg.hash(tries + key);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/buffer/CachedBufferAllocator.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/buffer/CachedBufferAllocator.html#238">238</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/buffer/SimpleIoBuffer.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/buffer/SimpleIoBuffer.html#55">55</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>			return this.origBuffer.capacity();
		}

		
		public final void clear() {
			this.origBuffer.clear();
		}

		
		public final void reset() {
			this.origBuffer.reset();
		}

		
		public final int remaining() {
			return this.origBuffer.remaining();
		}

		
		public final int position() {
			return this.origBuffer.position();
		}

		
		public final void mark() {
			this.origBuffer.mark();
		}

		
		public final int limit() {
			return this.origBuffer.limit();
		}

		
		public final boolean hasRemaining() {
			return this.origBuffer.hasRemaining();
		}

		
		public final void flip() {
			this.origBuffer.flip();
		}

		
		public final void put(byte b) {
			this.origBuffer.put(b);
		}

		
		public final void put(ByteBuffer buff) {
			this.origBuffer.put(buff);
		}

		
		public final ByteBuffer getByteBuffer() {
			return this.origBuffer;
		}

		
		public final void limit(int limit) {
			this.origBuffer.limit(limit);
		}

		
		public final void position(int pos) {
			this.origBuffer.position(pos);
		}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>com/google/code/yanf4j/buffer/IoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/IoBuffer.html#268">268</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/utils/ByteUtils.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/utils/ByteUtils.html#194">194</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    protected static int normalizeCapacity(int requestedCapacity) {
        switch (requestedCapacity) {
        case 0:
        case 1 &lt;&lt; 0:
        case 1 &lt;&lt; 1:
        case 1 &lt;&lt; 2:
        case 1 &lt;&lt; 3:
        case 1 &lt;&lt; 4:
        case 1 &lt;&lt; 5:
        case 1 &lt;&lt; 6:
        case 1 &lt;&lt; 7:
        case 1 &lt;&lt; 8:
        case 1 &lt;&lt; 9:
        case 1 &lt;&lt; 10:
        case 1 &lt;&lt; 11:
        case 1 &lt;&lt; 12:
        case 1 &lt;&lt; 13:
        case 1 &lt;&lt; 14:
        case 1 &lt;&lt; 15:
        case 1 &lt;&lt; 16:
        case 1 &lt;&lt; 17:
        case 1 &lt;&lt; 18:
        case 1 &lt;&lt; 19:
        case 1 &lt;&lt; 21:
        case 1 &lt;&lt; 22:
        case 1 &lt;&lt; 23:
        case 1 &lt;&lt; 24:
        case 1 &lt;&lt; 25:
        case 1 &lt;&lt; 26:
        case 1 &lt;&lt; 27:
        case 1 &lt;&lt; 28:
        case 1 &lt;&lt; 29:
        case 1 &lt;&lt; 30:
        case Integer.MAX_VALUE:
            return requestedCapacity;
        }

        int newCapacity = 1;
        while (newCapacity &lt; requestedCapacity) {
            newCapacity &lt;&lt;= 1;
            if (newCapacity &lt; 0) {
                return Integer.MAX_VALUE;
            }
        }
        return newCapacity;
    }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/transcoders/IntegerTranscoder.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/transcoders/IntegerTranscoder.html#10">10</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/transcoders/LongTranscoder.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/transcoders/LongTranscoder.html#15">15</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	public CachedData encode(java.lang.Integer l) {
		/**
		 * store integer as string
		 */
		if (this.primitiveAsString) {
			byte[] b = encodeString(l.toString());
			int flags = 0;
			if (b.length &gt; this.compressionThreshold) {
				byte[] compressed = compress(b);
				if (compressed.length &lt; b.length) {
					if (log.isDebugEnabled()) {
						log.debug(&quot;Compressed &quot; + l.getClass().getName()
								+ &quot; from &quot; + b.length + &quot; to &quot;
								+ compressed.length);
					}
					b = compressed;
					flags |= SerializingTranscoder.COMPRESSED;
				} else {
					if (log.isDebugEnabled()) {
						log.debug(&quot;Compression increased the size of &quot;
								+ l.getClass().getName() + &quot; from &quot; + b.length
								+ &quot; to &quot; + compressed.length);
					}
				}
			}
			return new CachedData(flags, b, b.length, -1);
		}
		return new CachedData(SerializingTranscoder.SPECIAL_INT, this.tu</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/command/binary/BinaryAuthStartCommand.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/command/binary/BinaryAuthStartCommand.html#23">23</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/command/binary/BinaryAuthStepCommand.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/command/binary/BinaryAuthStepCommand.html#22">22</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	}

	@Override
	protected void fillExtras(CachedData data) {
		// must not have extras
	}

	@Override
	protected void fillValue(CachedData data) {
		if (this.value != null)
			this.ioBuffer.put((byte[]) this.value);
	}

	@Override
	protected int getValueLength(CachedData data) {
		if (this.value == null)
			return 0;
		else
			return ((byte[]) this.value).length;
	}

	@Override
	protected byte getExtrasLength() {
		return (byte) 0;
	}

	@Override
	protected boolean readValue(ByteBuffer buffer, int bodyLength,
			int keyLength, int extrasLength) {
		int valueLength = bodyLength - keyLength - extrasLength;
		if (buffer.remaining() &lt; valueLength) {
			return false;
		}
		byte[] bytes = new byte[valueLength];
		buffer.get(bytes);
		setResult(new String(bytes));
		countDownLatch();
		return true;
	}

}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>com/google/code/yanf4j/buffer/AbstractIoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/AbstractIoBuffer.html#1536">1536</a></td></tr>
<tr class="a">
<td>com/google/code/yanf4j/buffer/AbstractIoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/AbstractIoBuffer.html#1640">1640</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        decoder.reset();

        int expectedLength = (int) (remaining() * decoder.averageCharsPerByte()) + 1;
        CharBuffer out = CharBuffer.allocate(expectedLength);
        for (;;) {
            CoderResult cr;
            if (hasRemaining()) {
                cr = decoder.decode(buf(), out, true);
            }
            else {
                cr = decoder.flush(out);
            }

            if (cr.isUnderflow()) {
                break;
            }

            if (cr.isOverflow()) {
                CharBuffer o = CharBuffer.allocate(out.capacity() + expectedLength);
                out.flip();
                o.put(out);
                out = o;
                continue;
            }

            if (cr.isError()) {
                // Revert the buffer back to the previous state.
                limit(oldLimit);
                position(oldPos);
                cr.throwException();
            }
        }

        limit(oldLimit);
        position(newPos);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>com/google/code/yanf4j/buffer/AbstractIoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/AbstractIoBuffer.html#1699">1699</a></td></tr>
<tr class="a">
<td>com/google/code/yanf4j/buffer/AbstractIoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/AbstractIoBuffer.html#2003">2003</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                cr = encoder.flush(buf());
            }

            if (cr.isUnderflow()) {
                break;
            }
            if (cr.isOverflow()) {
                if (isAutoExpand()) {
                    switch (expandedState) {
                    case 0:
                        autoExpand((int) Math.ceil(in.remaining() * encoder.averageBytesPerChar()));
                        expandedState++;
                        break;
                    case 1:
                        autoExpand((int) Math.ceil(in.remaining() * encoder.maxBytesPerChar()));
                        expandedState++;
                        break;
                    default:
                        throw new RuntimeException(&quot;Expanded by &quot;
                                + (int) Math.ceil(in.remaining() * encoder.maxBytesPerChar())
                                + &quot; but that wasn't enough for '&quot; + val + &quot;'&quot;);
                    }
                    continue;
                }
            }
            else {
                expandedState = 0;
            }
            cr.throwException();
        }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/command/binary/BinaryAuthListMechanismsCommand.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/command/binary/BinaryAuthListMechanismsCommand.html#20">20</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/command/binary/BinaryVersionCommand.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/command/binary/BinaryVersionCommand.html#56">56</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	}

	@Override
	protected boolean readValue(ByteBuffer buffer, int bodyLength,
			int keyLength, int extrasLength) {
		int valueLength = bodyLength - keyLength - extrasLength;
		if (buffer.remaining() &lt; valueLength) {
			return false;
		}
		byte[] bytes = new byte[valueLength];
		buffer.get(bytes);
		setResult(new String(bytes));
		countDownLatch();
		return true;
	}

	@Override
	protected void fillExtras(CachedData data) {
		// must not have extras
	}

	@Override
	protected void fillValue(CachedData data) {
		// must not have value
	}

	@Override
	protected byte getExtrasLength() {
		return 0;
	}

	@Override
	protected void fillKey() {
		// must not have key
	}

	@Override
	protected int getKeyLength() {
		return 0;
	}

	@Override
	protected int getValueLength(CachedData data) {
		return 0;
	}
}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>com/google/code/yanf4j/buffer/AbstractIoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/AbstractIoBuffer.html#1533">1533</a></td></tr>
<tr class="a">
<td>com/google/code/yanf4j/buffer/AbstractIoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/AbstractIoBuffer.html#1865">1865</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        }

        limit(end);
        decoder.reset();

        int expectedLength = (int) (remaining() * decoder.averageCharsPerByte()) + 1;
        CharBuffer out = CharBuffer.allocate(expectedLength);
        for (;;) {
            CoderResult cr;
            if (hasRemaining()) {
                cr = decoder.decode(buf(), out, true);
            }
            else {
                cr = decoder.flush(out);
            }

            if (cr.isUnderflow()) {
                break;
            }

            if (cr.isOverflow()) {
                CharBuffer o = CharBuffer.allocate(out.capacity() + expectedLength);
                out.flip();
                o.put(out);
                out = o;
                continue;
            }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>com/google/code/yanf4j/buffer/AbstractIoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/AbstractIoBuffer.html#1640">1640</a></td></tr>
<tr class="a">
<td>com/google/code/yanf4j/buffer/AbstractIoBuffer.java</td>
<td><a href="./xref/com/google/code/yanf4j/buffer/AbstractIoBuffer.html#1868">1868</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        decoder.reset();

        int expectedLength = (int) (remaining() * decoder.averageCharsPerByte()) + 1;
        CharBuffer out = CharBuffer.allocate(expectedLength);
        for (;;) {
            CoderResult cr;
            if (hasRemaining()) {
                cr = decoder.decode(buf(), out, true);
            }
            else {
                cr = decoder.flush(out);
            }

            if (cr.isUnderflow()) {
                break;
            }

            if (cr.isOverflow()) {
                CharBuffer o = CharBuffer.allocate(out.capacity() + expectedLength);
                out.flip();
                o.put(out);
                out = o;
                continue;
            }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/impl/KetamaMemcachedSessionLocator.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/impl/KetamaMemcachedSessionLocator.html#139">139</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/impl/LibmemcachedMemcachedSessionLocator.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/impl/LibmemcachedMemcachedSessionLocator.html#67">67</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>			}
		}
		this.ketamaSessions = sessionMap;
		this.maxTries = list.size();
	}

	private List&lt;Session&gt; getSessionList(
			TreeMap&lt;Long, List&lt;Session&gt;&gt; sessionMap, long k) {
		List&lt;Session&gt; sessionList = sessionMap.get(k);
		if (sessionList == null) {
			sessionList = new ArrayList&lt;Session&gt;();
			sessionMap.put(k, sessionList);
		}
		return sessionList;
	}

	public final Session getSessionByKey(final String key) {
		if (this.ketamaSessions == null || this.ketamaSessions.size() == 0) {
			return null;
		}
		long hash = this.hashAlg.hash(key);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/XMemcachedClient.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/XMemcachedClient.html#436">436</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/XMemcachedClient.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/XMemcachedClient.html#466">466</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>		if (addresses != null &amp;&amp; addresses.size() &gt; 0) {
			for (Map.Entry&lt;InetSocketAddress, InetSocketAddress&gt; entry : addresses
					.entrySet()) {
				final InetSocketAddress mainNodeAddr = entry.getKey();
				final InetSocketAddress standbyNodeAddr = entry.getValue();
				this.connect(new InetSocketAddressWrapper(mainNodeAddr,
						this.serverOrderCount.incrementAndGet(), 1, null));
				if (standbyNodeAddr != null) {
					this.connect(new InetSocketAddressWrapper(standbyNodeAddr,
							this.serverOrderCount.incrementAndGet(), 1,
							mainNodeAddr));
				}
			}
		}
	}

	public void addOneServerWithWeight(String server, int weight)</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/command/binary/BaseBinaryCommand.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/command/binary/BaseBinaryCommand.html#63">63</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/command/text/TextStoreCommand.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/command/text/TextStoreCommand.html#51">51</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	public BaseBinaryCommand(String key, byte[] keyBytes, CommandType cmdType,
			CountDownLatch latch, int exp, long cas, Object value,
			boolean noreply, Transcoder transcoder) {
		super(key, keyBytes, cmdType, latch);
		this.expTime = exp;
		this.cas = cas;
		this.value = value;
		this.noreply = noreply;
		this.transcoder = transcoder;
	}

	public final int getExpTime() {
		return this.expTime;
	}

	public final void setExpTime(int exp) {
		this.expTime = exp;
	}

	public final long getCas() {
		return this.cas;
	}

	public int getOpaque() {</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/command/text/TextFlushAllCommand.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/command/text/TextFlushAllCommand.html#59">59</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/command/text/TextVerbosityCommand.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/command/text/TextVerbosityCommand.html#48">48</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	}

	@Override
	public boolean decode(MemcachedTCPSession session, ByteBuffer buffer) {
		if (buffer == null || !buffer.hasRemaining()) {
			return false;
		}
		if (this.result == null) {
			byte first = buffer.get(buffer.position());
			if (first == 'O') {
				setResult(Boolean.TRUE);
				countDownLatch();
				// OK\r\n
				return ByteUtils.stepBuffer(buffer, 4);
			} else {
				return decodeError(session, buffer);
			}
		} else {
			return ByteUtils.stepBuffer(buffer, 4);
		}
	}

	@Override
	public final void encode() {</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/impl/PHPMemcacheSessionLocator.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/impl/PHPMemcacheSessionLocator.html#84">84</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/impl/RoundRobinMemcachedSessionLocator.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/impl/RoundRobinMemcachedSessionLocator.html#32">32</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	}

	public final void updateSessions(final Collection&lt;Session&gt; list) {
		Collection&lt;Session&gt; copySessions = list;
		List&lt;Session&gt; newSessions = new ArrayList&lt;Session&gt;(
				copySessions.size() * 2);
		for (Session session : copySessions) {
			if (session instanceof MemcachedTCPSession) {
				int weight = ((MemcachedSession) session).getWeight();
				for (int i = 0; i &lt; weight; i++) {
					newSessions.add(session);
				}
			} else {
				newSessions.add(session);
			}
		}
		this.sessions = newSessions;
	}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>net/rubyeye/xmemcached/utils/ByteUtils.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/utils/ByteUtils.html#412">412</a></td></tr>
<tr class="a">
<td>net/rubyeye/xmemcached/utils/ByteUtils.java</td>
<td><a href="./xref/net/rubyeye/xmemcached/utils/ByteUtils.html#416">416</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	final static byte[] DigitOnes = { '0', '1', '2', '3', '4', '5', '6', '7',
			'8', '9', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',
			'1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '1', '2', '3',
			'4', '5', '6', '7', '8', '9', '0', '1', '2', '3', '4', '5', '6',
			'7', '8', '9', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',</pre></div></td></tr></table></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2016.
          All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
